<body>
<div id="generated"></div>
<a href="ali.usini.eu/?lolin_d32">Lolin d32</a><br>
<a href="ali.usini.eu/?lipo">Lipo 2000mAh</a><br>
<a href="ali.usini.eu/?mpr121">MPR121</a>
</body>



<script>
product = window.location.href.split("/")[3].slice(1)
product = product.replace("_", "%20");
product_id = product.replace("%20", "_");
product_name = product.replace("%20", " ");

aliexpress_search_link = "http://www.aliexpress.com/wholesale?SearchText=" + product;
aliexpress_item_link = "https://www.aliexpress.com/item/";

docs = {};
items = {};
images = {};
   
// Lolin D32
docs["lolin_d32"]  = "https://www.wemos.cc/en/latest/d32/d32.html";
items["lolin_d32"] = aliexpress_item_link + "32808551116" + ".html";
images["lolin_d32"] = "https://raw.githubusercontent.com/usini/diagrams/main/Boards/esp32/wemos_lolin_D32.svg";
   
// Generic Lipo
docs["lipo"]  = "https://hobbyking.com/en_us/turnigy-2000mah-1s-1c-lipoly-w-2-pin-jst-ph-connector.html";
items["lipo"] = "https://hobbyking.com/en_us/turnigy-2000mah-1s-1c-lipoly-w-2-pin-jst-ph-connector.html";
images["lipo"] = "https://raw.githubusercontent.com/usini/diagrams/main/PowerSupply/battery_lithium_ion_2000mah.svg";

// MPR121
docs["mpr121"] = "https://www.sparkfun.com/products/retired/9695";
items["mpr121"] = "https://s.click.aliexpress.com/e/_AV8lFZ";
images["mpr121"] = "https://raw.githubusercontent.com/usini/diagrams/43c876b1ad0c94118570b3729c9593002ef6ab74/Sensors/mpr121.svg";

lang = {}
if (navigator.language.includes("fr")){
   lang["buy"] = "Acheter";
   lang["search"] = "Chercher sur";
   amazon_search_link = "https://www.amazon.fr/s?k=" + product;
} else {
   lang["buy"] = "Buy";
   lang["search"] = "Search on";
   amazon_search_link = "https://www.amazon.com/s?k=" + product;
}
   
function generate_links() {
   //document.body.innerHTML = ""
   document.body.innerHTML += '<h1>'+ product_name +'</h1>';
   if(docs[product_id] !== undefined){
       document.getElementById("generated").innerHTML += '<img src="' + images[product_id] + '">' ;
       document.getElementById("generated").innerHTML += '<h1><a href="'+ docs[product_id] + '"> üìñ Documentation </a></h1>';
       document.getElementById("generated").innerHTML += '<h1><a href="'+ items[product_id] + '"> üõí ' + lang["buy"] + '</a></h1>';
   }
   document.getElementById("generated").innerHTML += '<h1><a href="' + aliexpress_search_link + '"> üîç ' + lang["search"] + ' Aliexpress</a></h1>';
   document.getElementById("generated").innerHTML += '<h1><a href="' + amazon_search_link + '"> üîç ' + lang["search"] + ' Amazon</a></h1>';
}
   
generate_links();
</script>
